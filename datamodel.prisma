enum Gender {
    MALE
    FEMALE
}

enum AccountType {
    SME
    LENDER
    ADMIN
}

enum FundType {
    LOAN
    GRANT
}

enum FundStatus {
    PENDING
    APPROVED
    REJECTED
}


type Auth {
    id: ID! @id
    firebase_id: String! @unique
    account_type: AccountType! @default(value: SME)

    details: PersonalDetail! @relation(link: INLINE)
    social_media: [SocialMedia!]!
    applications: [Application!]!

    created_at: DateTime! @createdAt
    updated_at: DateTime! @updatedAt
}

type SocialMedia {
    id: ID! @id
    auth: Auth! @relation(link: INLINE)
    media_type: String!
    link: String!
}

type PersonalDetail {
    id: ID! @id
    email: String!
    auth: Auth

    first_name: String!
    last_name: String!
    phone_number: String
    date_of_birth: DateTime
    gender: Gender

    profile_pic: String
    nationality: String
    state: String
    home_address: String

    social_handle: String

    kin_name: String
    kin_phone: String
    kin_relation: String
}

type Application {
    id: ID! @id
    application_type: String!
    auth: Auth! @relation(link: INLINE)

    fund_details: FundDetail! @relation(link: INLINE)
    personal_details: PersonalDetail! @relation(link: INLINE)
    business_details: BusinessDetail! @relation(link: INLINE)
    business_financials: BusinessFinancial! @relation(link: INLINE)
    validations: BusinessValidation! @relation(link: INLINE)

    fund_status: FundStatus! @default(value: PENDING)
}

type BusinessValidation {
    id: ID! @id
    bvn: String!
    person_id_type: String!
    person_id_number: String!
    statement_url: String!
}

type BusinessFinancial {
    id: ID! @id
    avg_monthly_revenue: Float!
    avg_monthly_expense: Float!
    serving_loan: Boolean!
    bank_account_name: String!
    bank_account_number: String!
    bank_name: String!
}



type NextOfKinDetail {
    id: ID! @id
    first_name: String!
    last_name: String!
    phone_number: String!
    relationship: String!
}

type BusinessDetail {
    id: ID! @id
    name: String!
    business_type: String!
    registation_id: String! @unique

    cac_file_link: String!

    industry_type: String!
    business_start_year: Int!
    street_address: String!
    state: String!
    local_goverment_area: String!

    website_url: String
    social_media_url: String




    created_at: DateTime! @createdAt
    updated_at: DateTime! @updatedAt
}



type FundDetail {
    id: ID! @id
    amount: Float!
    reason: String!
    dispense_date: DateTime!
    spread: Float
}


type Industry {
    id: ID! @id
    name: String! @unique
}
